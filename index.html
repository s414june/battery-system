<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>充電樁管理系統</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="./font-awesome/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
        integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
        integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="./font-awesome/js/all.min.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@100;300;400&display=swap" rel="stylesheet">

    <!-- datatable -->
    <link rel="stylesheet" type="text/css"
        href="https://cdn.datatables.net/v/bs5/jq-3.6.0/dt-1.11.5/date-1.1.2/r-2.2.9/sb-1.3.2/sp-2.0.0/datatables.min.css" />
    <script type="text/javascript"
        src="https://cdn.datatables.net/v/bs5/jq-3.6.0/dt-1.11.5/date-1.1.2/r-2.2.9/sb-1.3.2/sp-2.0.0/datatables.min.js"></script>

    <!-- chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <link rel="stylesheet" href="style.css">
    <script src="./script.js"></script>
</head>

<body>
    <header>
    </header>
    <script>
        $.get('header.html', function (response) {
            $('header').html(response);
        });
    </script>
    <div class="d-flex position-relative">
        <div id="menu-holder" style="z-index: -1;"></div>
        <section class="position-relative" id="system-main">
            <div class="w-100 pt-4 position-absolute" style="background-color: rgba(var(--bs-primary-rgb),0.75);">
                <h3 class="ps-5 ms-4 pb-5 mb-5 text-white">系統儀錶板</h3>
            </div>
            <div class="mt-5 px-2 pt-4 px-xl-5 position-relative d-flex flex-column align-items-center w-100">
                <div class="row my-3 justify-content-center align-items-stretch w-100">
                    <div class="col-xl-6 mb-3">
                        <div class="card shadow-sm h-100">
                            <div class="card-body position-relative p-2">
                                <h5 class="text-primary card-title">場站總覽</h5>
                                <div class="w-100 d-flex align-items-center justify-content-center">
                                    <div class="overviewChartOutside">
                                        <canvas id="overviewChart" style="position: relative;"></canvas>
                                    </div>
                                </div>
                                <table id="dollarTable" class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>場站</th>
                                            <th>管理單位</th>
                                            <th>充電樁數量</th>
                                            <th>快充數量</th>
                                            <th>慢充數量</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>民權西</td>
                                            <td>大世科</td>
                                            <td>10</td>
                                            <td>5</td>
                                            <td>5</td>
                                        </tr>
                                        <tr>
                                            <td>圓山</td>
                                            <td>大世科</td>
                                            <td>10</td>
                                            <td>5</td>
                                            <td>5</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-6 mb-3">
                        <div class="card shadow-sm h-100">
                            <div class="card-body position-relative p-2">
                                <h5 class="text-primary card-title">群組總覽</h5>
                                <div class="w-100 d-flex align-items-center justify-content-center">
                                    <div class="overviewChartOutside">
                                        <canvas id="overviewChart2" style="position: relative;"></canvas>
                                    </div>
                                </div>
                                <table id="dollarTable" class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>群組名稱</th>
                                            <th>場站</th>
                                            <th>充電樁數量</th>
                                            <th>負載限流</th>
                                            <th>現在負載</th>
                                            <th>是否告警</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>大同廠區電樁</td>
                                            <td>民權西</td>
                                            <td>10</td>
                                            <td>1500 kW</td>
                                            <td>300 kW</td>
                                            <td>否</td>
                                        </tr>
                                        <tr>
                                            <td>花博廠區電樁</td>
                                            <td>圓山</td>
                                            <td>10</td>
                                            <td>1500 kW</td>
                                            <td>420 kW</td>
                                            <td>否</td>
                                        </tr>
                                    </tbody>
                                </table>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</body>
<script>
    const data = {
        labels: [
            '民權西',
            '大世科'
        ],
        datasets: [{
            label: '場站分布圖',
            data: [10, 10],
            backgroundColor: [
                '#38bdf8',
                '#22d3ee'
            ],
            hoverOffset: 4,
        }]
    };
    const config = {
        type: 'pie',
        data: data,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: '場站分布'
                }
            }
        }
    };
    const overviewChart = new Chart(
        document.getElementById('overviewChart'),
        config
    );

    const data2 = {
        labels: [
            '民權西',
            '大世科'
        ],
        datasets: [{
            label: '群組分布',
            data: [6171 , 7136 ],
            backgroundColor: [
                '#f87171',
                '#fb923c'
            ],
            hoverOffset: 4,
        }]
    };
    const config2 = {
        type: 'pie',
        data: data2,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: '現在負載分布'
                }
            }
        }
    };
    const overviewChart2 = new Chart(
        document.getElementById('overviewChart2'),
        config2
    );
</script>
<style>
    .overviewChartOutside {
        width: 300px;
        height: 300px;
        margin-bottom: 2rem;
    }

    @media (max-width: 575px) {
        .overviewChartOutside {
            width: 50vw;
            height: 50vw;
        }
    }
</style>

</html>